---
import Layout from '../layouts/Layout.astro';
import Translator from '../components/Translator.astro';
import Appendix from '../components/Appendix.astro';
---

<Layout title="MagaSpeak Translator & Appendix">
  <div class="min-h-screen p-luxury">
    <div class="w-full max-w-4xl mx-auto opulent-card rounded-palace shadow-golden-xl p-opulent">
      <!-- Header Section -->
      <div class="text-center mb-opulent">
        <h1 class="executive-text text-4xl md:text-5xl font-imperial mb-executive">MagaSpeak Translator & Appendix</h1>
        <p class="text-navy-600 font-gilded text-lg mt-executive">Translate standard English or read the linguistic analysis of the dialect.</p>
      </div>

      <!-- Tab Navigation -->
      <div class="border-b-4 border-bling-500 mb-opulent golden-gradient" style="border-image: linear-gradient(45deg, #FFD700, #FFA500) 1;">
        <nav class="-mb-px flex space-x-luxury" aria-label="Tabs">
          <button 
            id="translatorTab" 
            class="tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-bling-600 text-bling-700 font-bold"
            data-tab="translator"
          >
            Translator
          </button>
          <button 
            id="appendixTab" 
            class="tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-transparent text-navy-600 hover:text-bling-600 hover:border-bling-400 font-bold transition-all duration-300"
            data-tab="appendix"
          >
            Appendix
          </button>
        </nav>
      </div>

      <!-- Tab Content -->
      <div>
        <!-- Translator Panel -->
        <div id="translatorContent">
          <Translator />
        </div>

        <!-- Appendix Panel -->
        <div id="appendixContent" class="hidden">
          <Appendix />  
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const translatorTab = document.getElementById('translatorTab');
      const appendixTab = document.getElementById('appendixTab');
      const translatorContent = document.getElementById('translatorContent');
      const appendixContent = document.getElementById('appendixContent');

      function switchTab(tabName: string) {
        if (tabName === 'translator') {
          translatorContent!.style.display = 'block';
          appendixContent!.style.display = 'none';
          translatorTab!.className = 'tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-bling-600 text-bling-700 font-bold';
          appendixTab!.className = 'tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-transparent text-navy-600 hover:text-bling-600 hover:border-bling-400 font-bold transition-all duration-300';
        } else {
          translatorContent!.style.display = 'none';
          appendixContent!.style.display = 'block';
          appendixTab!.className = 'tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-bling-600 text-bling-700 font-bold';
          translatorTab!.className = 'tab-button whitespace-nowrap py-executive px-luxury border-b-4 font-executive text-lg border-transparent text-navy-600 hover:text-bling-600 hover:border-bling-400 font-bold transition-all duration-300';
        }
      }

      translatorTab?.addEventListener('click', () => switchTab('translator'));
      appendixTab?.addEventListener('click', () => switchTab('appendix'));
    });
  </script>
</Layout>
